# n8n Environment Configuration
# Copy this file to .env and customize as needed

# === Container Settings ===
N8N_IMAGE=n8nio/n8n
N8N_CONTAINER_NAME=n8n
N8N_USER_ID=1000
N8N_GROUP_ID=1000

# === Logging & Debug ===
N8N_LOG_LEVEL=info

# === Timezone ===
GENERIC_TIMEZONE=Africa/Johannesburg
TZ=Africa/Johannesburg

# === Security & Permissions ===
N8N_ENFORCE_SETTINGS_FILE_PERMISSIONS=false
N8N_SECURE_COOKIE=false
N8N_TRUST_PROXY=true
N8N_DISABLE_PRODUCTION_MAIN_PROCESS=false

# === Features ===
N8N_RUNNERS_ENABLED=true

# === Security Settings (fixes deprecation warnings) ===
N8N_BLOCK_ENV_ACCESS_IN_NODE=false
N8N_GIT_NODE_DISABLE_BARE_REPOS=true

# === Database ===
DB_SQLITE_POOL_SIZE=3

# === Dynamic URLs (will be updated by startup script) ===
# These will be automatically detected from Cloudflare tunnel
N8N_EDITOR_BASE_URL=http://localhost:5678
WEBHOOK_URL=http://localhost:5678

# === Traefik Labels ===
TRAEFIK_ENABLE=true
TRAEFIK_ROUTER_RULE=PathPrefix(`/`)
TRAEFIK_ENTRYPOINTS=web
TRAEFIK_SERVICE_PORT=5678

# === Network ===
EXTERNAL_NETWORK=web

# === Advanced Settings ===
# Uncomment and modify these if needed

# === Email (if using email features) ===
# N8N_EMAIL_MODE=smtp
# N8N_SMTP_HOST=
# N8N_SMTP_PORT=587
# N8N_SMTP_USER=
# N8N_SMTP_PASS=
# N8N_SMTP_SENDER=

# === Authentication (if enabling user management) ===
# N8N_USER_MANAGEMENT_DISABLED=false
# N8N_USER_MANAGEMENT_JWT_SECRET=
# N8N_ENCRYPTION_KEY=

# === External Database (alternative to SQLite) ===
# DB_TYPE=postgresdb
# DB_POSTGRESDB_HOST=
# DB_POSTGRESDB_PORT=5432
# DB_POSTGRESDB_DATABASE=n8n
# DB_POSTGRESDB_USER=
# DB_POSTGRESDB_PASSWORD=

# === Queue Mode (for scaling) ===
# QUEUE_BULL_REDIS_HOST=
# QUEUE_BULL_REDIS_PORT=6379
# QUEUE_BULL_REDIS_DB=0
# QUEUE_BULL_REDIS_PASSWORD=

# === Webhooks ===
N8N_PAYLOAD_SIZE_MAX=16
N8N_METRICS=false

# === File System ===
N8N_BINARY_DATA_MODE=filesystem
N8N_DEFAULT_BINARY_DATA_MODE=filesystem